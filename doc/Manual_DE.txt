GMPC Manual - The interface
===========================
:Author:  Qball
:Email: Qball@gmpclient.org
:Date: today
:Revision: 0.01

== Die Hauptansicht

Das folgende Bild zeigt das Hauptfenster von GMPC:

image:Images/main-window.png[]

Wenn man das Hauptfenster verkleinert, können Teile davon vielleicht nicht angezeigt werden.
Momentan gibts es zwei verkleinerte Ansichten.

Verkleinerte Ansicht 1:

image:Images/main-window-collapsed1.png[]

Verkleinerte Ansicht 2:

image:Images/main-window-collapsed2.png[]

In dieser Anleitung werden wir jeden Teil der Anzeige erklären.

=== Die Menüzeile

image:Images/menu-bar.png[]

Die Menüzeile ist der Zugang zu jedem Programmteil. Man kann das Playback steuern (Steuerung), GMPC konfigurieren, verschiedene Abspielgeräte ansteuern, andere Profile wählen, etc..

Merke: Die Bestandteile der Menüs können unterschiedlich sein, je nach dem welche und wieviele Plugins installiert und aktiviert sind. 

* Musik
** 'Verbinden' - Verbindung mit MPD herstellen
** 'Verbindung trennen' - Verbindung zu MPD trennen
** 'Kennwort senden' - Ein neues Passwort zu MPD schicken, was die Erlaubnisstufe entweder erhöht oder verringert.
** 'Profile' - Das Untermenü enthält eine Liste der vorhandenen Profile
*** Liste der Profile
** 'Preferences' - Öffnet das Einstellungen-Fenster xref:preferences[(Mehr)]
** 'Quit' - Schließt GMPC komplett.
* Server
** 'Aktualisiere Datenbank' - Veranlasst MPD dazu, die komplette Datenbank zu aktualisieren (Achtung: kann bei mehreren zehntausend Dateien >5 Minuten dauern)
** 'Information' - Öffnet ein Fenster mit Informationen über den Server xref:server-information[(Mehr)]
** Liste der für MPD verfügbaren Abspielgeräte (Soundkarten), können hier (de-)aktiviert werden.
* Steuerung
** 'Wiedergabe/Pause'
** 'Stop'
** 'Nächster'
** 'Vorheriger'
** 'Stumm' - Schaltet den Stumm-Modus ein (verändert die Lautstärke auf 0 und stellt sie dann wieder her)
** 'Endlosschleife' - (De-)Aktiviert die Endlosschleife
** 'Zufall' - (De-)Aktiviert den Zufallsmodus
** 'Einzelner Titel' - (De-)Aktiviert einzelne Titel, dann wird der nächste Titel nicht gestartet nachdem der Aktuelle fertig ist
** 'Verbrauch' - (De-)Aktiviert den Verbrauchs-Modus, dann werden die gespielten Titel aus der Playliste genommen.
* Ansicht
** 'Oberfläche erweitern' - Mehr Elemente einblenden
** 'Oberfläche beschränken' - Weniger Elemente einblenden
** 'Vollbild' - Vollbild aktivieren
** 'Zeige Künstlerbild' - (De-)Aktiviert die Anzeige des Künsterbildes in der Seitenleiste
* Option
** Hier stehen Optionen für die momentane Ansicht
* Extras
** 'URL hinzufügen' - Fügt eine URL zur Wiedergabe-Warteschlange hinzu xref:add-url[(Siehe hier)]
** Liste von globalen Optionen, die durch Plugins hinzugefügt wurden
* Gehe zu
** Liste von aktivierten Ansichten, ermöglicht schnellen Wechsel zwischen den Ansichten
* Hilfe
** 'Statusnachrichten anzeigen' - Zeigt eine Liste der letzten Nachrichten, Warnungen und Informationen
** 'Webseite' - Öffnet den Internetauftritt von GMPC
** 'Hilfe' - Öffnet die Online-Hilfe im GMPC-Wiki
** 'Bug-Informationen' - Öffnet ein Fenster mit Informationen über die verwendete GMPC-Version xref:bug-information[(Mehr)]
** 'Easy-Command Hilfe' - Öffnet eine Liste mit Befehlen für das Easy-Command-Fenter. xref:easy-command[
** 'About' - Öffnet das Über-Fenster

=== Playback Steuerung
image:Images/playback-control.png[]

Die Steuerungselemente werden von links nach rechts erklärt.


=== Album Cover
image:Images/pc-cover.png[]

Hier wird das Cover des aktuell gespielten Albums angezeigt. Wenn kein Cover vorhanden ist oder der Titel keine Informationen darüber hergibt, wird
eine leere CD-Hülle angezeigt.

[TIP]
=================================
* Das Cover wird vergrößert angezeigt, wenn man mit der Maus über das Cover fährt.
* Klickt man mit der rechten Maustaste auf das Cover, kann man es bearbeiten.
* Man kann die Coverdarstellung in den Einstellungen verändern (Mit oder ohne CD-Hülle).


image:Images/pc-cover.png["With casing"]
image:Images/pc-cover-plain.png["Withouth casing"]

=================================


==== Titelinformationen
image:Images/pc-song-info.png[]

Rechts neben dem Cover befinden sich Informationen zum abgespielten Titel (Titel, Artist, Albumname).

TIP: Wenn man den Titel, den Artist oder den Albumnamen klickt, springt GMPC zum entsprechenden Eintrag im Metadaten-Browser.


==== Favoriten
image:Images/pc-favorite-nhl.png[]

Ein Klick auf das Icon in Herzform erlaubt es, einen Titel als Favorit zu markieren oder die Markierung aufzuheben.

Wenn der Titel als Favorit markiert ist, wird das Herz-Icon hervorgehoben. Wenn ein Titel kein Favorit ist, ist das Icon blass.

* image:Images/pc-favorite-hl.png["Song is a favorite"]
Als Favorit markiert:
* image:Images/pc-favorite-nhl.png["Sog is not a favorite"]
Nicht als Favorit markiert:

Favorisierte Titel werden in einer extra Playlist gehalten, die "Favoriten" heißt.

TIP: Mit einem Rechtsklick auf das Favoriten-Icon kann man den aktuellen Titel zu jeder existierenden Playlist hinzufügen.

WARNING: Um Favoriten benutzen zu können, muss MPD Playlists speichern und laden (lesen) dürfen.


==== Playback Steuerung
image:Images/pc-playback-control.png[]

Natürlich verfügt GMPC auch über Steuerungs-Buttons für das Abspielen: Play/Pause, Vorheriger, Nächster, Stop und einen Lautstärkeregler.


[CAUTION]
=====================================================================
* Es werden genügende Zugriffsrechte benötigt, um das Playback zu steuern. Wenn diese Rechte fehlen, führen die Buttons nichts aus.
* Wenn in MPD kein Ausgabegerät definiert ist oder verfügbar ist, funktioniert der Lautstärkeregler nicht.
=====================================================================

TIP: Wenn man mit der Maus über den Nächster-Button fährt, erscheint der nächste Titel in einem Tooltip.


==== Statusleiste
image:Images/pc-seek-bar.png[]

Unter der Playback Steuerung befindet sich die Status-/Fortschrittsanzeige. Sie zeigt an, wieviel von dem aktuellen Titel schon gespielt wurde.
Ein doppelter Linksklick oder ein einfacher Klick mit der mittleren Maustaste irgendwo auf diese Anzeige lässt GMPC direkt zu der gewählten Stelle springen.
Den kleinen mitlaufenden Pfeil kann mit der linken Maustaste festgehalten und verschoben werden.

Rechts neben der Statusleiste befindet sich die verstrichene Zeit (oder verbleibende, siehe Tip) und die Dauer des Titel (sofern vorhanden).


[TIP]
=======================
* Ein Rechtsklick auf die Statusleiste ändert die Zeitanzeige von verstrichen zu verbleibend (und zurück).
* Fährt man mit der Maus auf die Statusleiste, wird die Dauer des Titels und die Zeit an der Position des Mauszeiger angezeigt.
=======================

NOTE: Die Zeitsprünge geschehen nicht sofort, sie werden erst ausgeführt, wenn man den mitlaufenden Pfeil loslässt, andernfalls
würde MPD mit Sprung-Anfragen zugemüllt.


=== Nachrichtenleiste
image:Images/message-bar.png[]

Die Nachrichtenleiste wird nur angezeogt, wenn GMPC etwas mitzuteilen hat. Sie kann Informationen, Warnungen und Fehler anzeigen.

Eine Liste der zuletzt angezeigten (oder versteckten) Meldungen kann über Hilfe -> Statusnachrichten anzeigen eingesehen werden.

TIP: Man kann unter xref:preferences[preferences] Einstellen, welche Nachrichten in der Nachrichtenleiste angezeigt werden sollen.

[[sidebar]]
=== Seitenleiste
image:Images/sidebar.png[]

Über die Seitenleiste kann man zwischen den verschiedenen Fenstern wechseln.
Per drag & drop kann die Anordnung der Elemente verändert werden.
Welche Elemente vorhanden sind, hängt von den installierten/aktivierten Plugins und Einstellungen ab.

Wenn man die Oberfläche beschränkt, wird die Seitenleiste zu einer horizontalen Dropdown-Auswahl:

image:Images/sidebar-hori1.png[]

Oder aber, wenn über xref:preferences[preferences] anders definiert, eine Liste von Buttons:

image:Images/sidebar-hori2.png[]


TIP: Die oberste Ansicht wird immer aktiviert, wenn man sich mit einem MPD Server verbindet.

NOTE: Wird die Oberfläche beschränkt, wird die Seitenleiste horizontal angezeigt, oben drüber die Abspiel-Steuerung. Bei weiterer Beschränkung wird die Seitenleiste ausgeblendet.

=== Browser window

The browser window contains the actual browser, how this looks depends on the selected view. Browsers should (normally) follow the same generic layout.
Either one large pane (like now playing, search, play-queue, etc). Or 2 panes (like database, metadata browser, etc), where the size of the panes is synced between the browsers. 

One pane view:

image:Images/browser-pane-single.png[]

Two pane view:

image:Images/browser-pane-double.png[]

NOTE: When the view is completely collapsed the Browser window is hidden.

=== Statusbar
image:Images/status-bar.png[]

At the bottom of the screen is the status bar. The statusbar is hidden when gmpc is fully collapsed.

The status bar consists of 2 parts:

On the left there is a message block. This shows feedback about changes, like 'repeat enabled', '10 songs added to play-queue'. It indicates if some action was succesful.

On the right there are status icons. 

==== Status icons
image:Images/status-icons.png[]

Status icons are small icons indicating the state of a setting, a plugin or shows that something is in progress. 

Currently GMPC always shows the following status icons:

* Repeat
* Random
* Single mode
* Consume 

Some icons only show when f.e. MPD is updating it database.
All status icons should have a tooltip.

NOTE: Clicking a status icon may change it state.

NOTE: Some status icons, like from the gmpc-shout plugin, can have a context menu.

[[preferences]]
== Preferences

=== Connection
image:Images/preferences-connection.png[]

In the connection pane you can configure the connection to MPD.
You can define multiple connection profiles. GMPC allows you to quickly switch between the different profiles.

* The 'Name' field holds the name GMPC shows for this connection.
* The 'Host' field holds the hostname off the MPD machine. It may also holds the path to a socket.
* The 'Port' field holds the port where MPD listens on. 
* 'Use authentication' tells GMPC to send the 'Password' field on connection.
* The 'Music Directory' allows you to tell GMPC where it can find the music.


=== Server Settings
image:Images/preferences-server-settings.png[]

When connected to MPD, you can configure several parameters in MPD:

* 'Enable Crossfade': Tells MPD to fade the song out and the fade in the new song in 'fade time(s)' seconds.
* 'Replaygain': Select the replaingain mode.
* 'Output devices': Enable/disable output devices.


=== Interface 
image:Images/preferences-interface.png[]

Configure GMPC interface.

* 'Hide on close': If the GMPC is closed, hide to the notification tray.  (If no notification tray is present, GMPC is minimized.)
* 'Stylize album covers': Make covers look like it is placed inside a casing.
  image:Images/pc-cover.png["With casing"]
  image:Images/pc-cover-plain.png["Withouth casing"]
  
* 'Stop playing on exit':  If you quit GMPC, stop playback.
* 'Show song tooltip': Enabled tooltips on the song list. Showing a information about the song under the mouse pointer.
* 'Enable search as you type': Make GMPC search directly as you type. (Might be slow).
* 'Show buttons instead of dropdown in collapsed view': Changes the dropdown to a button list. See xref:sidebar[Sidebar].
* 'Center playing song': Make GMPC center the playing song in the play queue.
* 'Save position and size between sessions': Make GMPC store and retstore it size between sessions.

=== Tag Based Browser 
image:Images/preferences-tag-based-browser.png[]

=== Multimedia Keys
image:Images/preferences-multimedia-keys.png[]

=== Notification
image:Images/preferences-notification.png[]

=== Metadata Handler
image:Images/preferences-metadata-handler.png[]

=== Proxy
image:Images/preferences-proxy.png[]

=== Metadata Browser
image:Images/preferences-metadata-browser.png[]

== Metadata Selector
image:Images/meta-data-selector-artist.png[]
image:Images/meta-data-selector-lyrics.png[]

If gmpc fails to find the right metadata, you can view all the results in the metadata selector.  You can edit the exact value off the query fields and retry the query.
As you can see in the above screenshots you can see the results, where they came from and the size (if it is an image)

The following items can be selected:

* Artist art
* Album cover
* Song lyric
* Album Information
* Artist Biography
* Guitar tab.

You can open the metadata selector by right clicking on the metadata item, f.e. a lyrics and selecting 'metadata selector'.

== Browsers

=== Now Playing

=== Database

=== Play Queue
image:Images/play-queue.png[]

This is basically your master-playlist. Every title you want to listen to will appear here by rightclicking a file in the database or playlist-editor view and selecting "Add". 
This works with every file, folder or playlist.

If you do a right click on an entry of the play queue, you will get this popup:

image:Images/play-queue-rightclick.png[]

Note: This popup will depend on the plugins you have installed and activated. Some plugins cause an entry here, others don't.

=== Tag Browser

=== Search

=== Metadata Browser

== Server Information
image:Images/server-information.png[]

[[query-syntax]]
== Query Syntax

The query syntax is used in the search browser, the playlist quick search and in easy command.

The syntax consist of the following:

---------------
<field>=<value>
---------------

This will search for value in the field field.

The following fields are supported:

    artist
    album
    title
    track
    Name (applies to streams)
    Genre
    Date
    Composer
    Performer
    Comment
    Disc
    Filename
    AlbuArtist
    Any (searches all the above fields) 

If your MPD does not support any of these fields, they will be ignored and seen as part of the command.

The search is tokenized and case insensitive, so for example:

-------------------
artist=eric clapton
-------------------

Will match both "eric clapton", "Clapton, Eric". To stop this tokenization wrap the values in (). For example:

---------------------
artist=(Eric Clapton)
---------------------

Will not match "Clapton, Eric".


To refine you search multiple queries can be concattenated:

for example:

----------------------------------
artist=Eric Clapton album=Slowhand
----------------------------------


There is also an option to run multiple queries at once by using the or operator ||:

-----------------------------------------
artist=Eric Clapton || artist=Norah Jones
-----------------------------------------

This will return all songs by Eric Clapton and Norah Jones.


Note; if <field= > is ommited, all fields are searched. 


== Easy Command
image:Images/Gmpc-easy-command.png[]

GMPC has an feature called "easy command". Easy command gives you a small command box, allowing you to quickly execute commands without having to use the mouse.

For example, send the command to gmpc to search in the play queue for the song Holy Mother from the artist Eric Clapton and play that song immediately the following could easily be typed.

First, start the "easy command" mode:

----------
ctrl-space
----------

Next, type the following command:

------------------------------------------
play title=Holy mother artist=Eric Clapton
------------------------------------------

You can also concattenate commands:

--------------------------------------------
clear; add artist=Strehli; play title=SRV
--------------------------------------------

You can also bind a global one in preferences->Multimedia Keys.

Some commands use the xref:query-syntax[Query syntax]

=== Implemented Easy Commands
To get a more uptodate list of possible commands, see 'help->Easy command help' in gmpc.

====  Switch

*    switch play queue: Switch to play queue
*    switch metadata browser: Switch to the metadata browser
*    switch search: Switch to the search browser 

==== Main

*    quit: Quit gmpc
*    hide: Hide gmpc
*    show: Show gmpc
*    show notification: Show the tray-icon notification. (if enabled) 

==== Playback

*    play: start playback
*    pause: pause playback
*    next: next song
*    prev: previous song
*    stop: stop playback
*    random (on|off): Random (on|off)
*    repeat (on|off): Repeat (on|off)
*    volume [+-]?[0-9]+: Volume <level>
*    mute: Mute
*    play .*: Play <query> 

*    seek hh:mm:ss: Seek to position
*    seek +hh:mm:ss: Seek relative to current position
*    seek -hh:mm:ss: Seek backwards relative to current position 


*    repeat current song: Repeats the currently playing song forever
*    stop after current song: Stops playback after current song.
*    consume (on|off)
*    single (on|off) 

==== Play-Queue Manipulation

*    add .*: Add <query>
*    replace .*: Replace <query>
*    Clear play queue: Clear play queue 
*    Crop current song: Clears the whole play queue without removing the current playing song. 

==== Search

*    search database .*: Search database <query>
*    search playlist .*: Search playlist <query> 

==== Metadata Browser

*    show current song: Show the page of the current playing song.
*    show current artist: Show the page of the current playing artist.
*    show current album: Show the page of the current playing album. 
